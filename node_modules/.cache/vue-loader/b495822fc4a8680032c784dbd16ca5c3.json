{"remainingRequest":"/opt/lampp/htdocs/bucket/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/bucket/src/components/GetBuckets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/bucket/src/components/GetBuckets.vue","mtime":1565791927223},{"path":"/opt/lampp/htdocs/bucket/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\n\nexport default {\n    name: \"GetBuckets\",\n     components:{\n    },\n    \n    data:function () {\n        return{\n            token: localStorage.getItem('token'),\n            id:0,\n            fields: [ 'name','date_created', 'date_modified','created_by','actions'],\n            items: []\n        }\n    },\n    methods:{\n        deleteBucket(id){\n\n            // console.log(id);\n             let fd = new FormData();\n             fd.append('jwt',this.token);\n\n            axios.get('http://127.0.0.1:3000/del_bucketlists/'+id+'?jwt='+this.token)\n            .then(res=>{\n                console.log(res);\n                this.items = this.items.filter(item => item.id !==id)\n                \n            })\n            .catch(err=>{\n\n            });\n            \n        }\n    },\n    created(){\n        let fd = new FormData();\n        fd.append('jwt',this.token);\n        axios.get('http://127.0.0.1:3000/bucketlists?jwt='+this.token)\n        .then(res =>{\n            let data = res.data.data;\n            this.items=data;\n            \n\n        })\n        .catch(err => {\n            console.log(err);            \n        })\n\n\n        \n    }\n}\n",{"version":3,"sources":["GetBuckets.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;;AAIA;AACA","file":"GetBuckets.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div>\n             <table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">{{fields[0]}}</th>\n      <th scope=\"col\">{{fields[1]}}</th>\n      <th scope=\"col\">{{fields[2]}}</th>\n      <th scope=\"col\">{{fields[3]}}</th>\n      <th scope=\"col\">{{fields[4]}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-bind:key=\"item.id\" v-for=\"item in items\">\n      <td>{{item.name}}</td>\n      <td>{{item.date_created}}</td>\n      <td>{{item.date_modified}}</td>\n      <td>{{item.created_by}}</td>\n      <td>\n          <router-link :to=\"{path:'/editBucket/'+item.id}\" > <b-button variant=\"outline-success\" append>edit</b-button></router-link>\n          <b-button :to=\"{path:'/PostItem/'+item.id}\" variant=\"outline-primary\">Add Item</b-button>\n          <b-button variant=\"outline-danger\"   @click=\"deleteBucket(item.id)\">delete</b-button>\n          <b-button :to=\"{path:'/ItemView/'+item.id}\" variant=\"\">View Items</b-button>\n      </td>\n    </tr>\n   \n  </tbody>\n</table>\n            <!-- <b-table sticky-header head-variant=\"dark\" striped hover :items=\"items\" :fields=\"fields\"></b-table> -->\n        </div>\n    </div>\n    \n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: \"GetBuckets\",\n     components:{\n    },\n    \n    data:function () {\n        return{\n            token: localStorage.getItem('token'),\n            id:0,\n            fields: [ 'name','date_created', 'date_modified','created_by','actions'],\n            items: []\n        }\n    },\n    methods:{\n        deleteBucket(id){\n\n            // console.log(id);\n             let fd = new FormData();\n             fd.append('jwt',this.token);\n\n            axios.get('http://127.0.0.1:3000/del_bucketlists/'+id+'?jwt='+this.token)\n            .then(res=>{\n                console.log(res);\n                this.items = this.items.filter(item => item.id !==id)\n                \n            })\n            .catch(err=>{\n\n            });\n            \n        }\n    },\n    created(){\n        let fd = new FormData();\n        fd.append('jwt',this.token);\n        axios.get('http://127.0.0.1:3000/bucketlists?jwt='+this.token)\n        .then(res =>{\n            let data = res.data.data;\n            this.items=data;\n            \n\n        })\n        .catch(err => {\n            console.log(err);            \n        })\n\n\n        \n    }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}