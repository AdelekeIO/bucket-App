{"remainingRequest":"/opt/lampp/htdocs/bucket/node_modules/thread-loader/dist/cjs.js!/opt/lampp/htdocs/bucket/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/bucket/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/lampp/htdocs/bucket/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/bucket/src/components/GetBuckets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/bucket/src/components/GetBuckets.vue","mtime":1565791927223},{"path":"/opt/lampp/htdocs/bucket/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/bucket/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: \"GetBuckets\",\n  components: {},\n  data: function data() {\n    return {\n      token: localStorage.getItem('token'),\n      id: 0,\n      fields: ['name', 'date_created', 'date_modified', 'created_by', 'actions'],\n      items: []\n    };\n  },\n  methods: {\n    deleteBucket: function deleteBucket(id) {\n      var _this = this;\n\n      // console.log(id);\n      var fd = new FormData();\n      fd.append('jwt', this.token);\n      axios.get('http://127.0.0.1:3000/del_bucketlists/' + id + '?jwt=' + this.token).then(function (res) {\n        console.log(res);\n        _this.items = _this.items.filter(function (item) {\n          return item.id !== id;\n        });\n      }).catch(function (err) {});\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    var fd = new FormData();\n    fd.append('jwt', this.token);\n    axios.get('http://127.0.0.1:3000/bucketlists?jwt=' + this.token).then(function (res) {\n      var data = res.data.data;\n      _this2.items = data;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }\n};",{"version":3,"sources":["GetBuckets.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CADA;AAEA,MAAA,EAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,CAAA,MAAA,EAAA,cAAA,EAAA,eAAA,EAAA,YAAA,EAAA,SAAA,CAHA;AAIA,MAAA,KAAA,EAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,EADA,EACA;AAAA;;AAEA;AACA,UAAA,EAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,EAAA,CAAA,MAAA,CAAA,KAAA,EAAA,KAAA,KAAA;AAEA,MAAA,KAAA,CAAA,GAAA,CAAA,2CAAA,EAAA,GAAA,OAAA,GAAA,KAAA,KAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,EAAA,KAAA,EAAA;AAAA,SAAA,CAAA;AAEA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA,CAEA,CARA;AAUA;AAjBA,GAbA;AAgCA,EAAA,OAhCA,qBAgCA;AAAA;;AACA,QAAA,EAAA,GAAA,IAAA,QAAA,EAAA;AACA,IAAA,EAAA,CAAA,MAAA,CAAA,KAAA,EAAA,KAAA,KAAA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,2CAAA,KAAA,KAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AAGA,KANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KATA;AAaA;AAhDA,CAAA","sourcesContent":["<template>\n    <div>\n        <div>\n             <table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">{{fields[0]}}</th>\n      <th scope=\"col\">{{fields[1]}}</th>\n      <th scope=\"col\">{{fields[2]}}</th>\n      <th scope=\"col\">{{fields[3]}}</th>\n      <th scope=\"col\">{{fields[4]}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-bind:key=\"item.id\" v-for=\"item in items\">\n      <td>{{item.name}}</td>\n      <td>{{item.date_created}}</td>\n      <td>{{item.date_modified}}</td>\n      <td>{{item.created_by}}</td>\n      <td>\n          <router-link :to=\"{path:'/editBucket/'+item.id}\" > <b-button variant=\"outline-success\" append>edit</b-button></router-link>\n          <b-button :to=\"{path:'/PostItem/'+item.id}\" variant=\"outline-primary\">Add Item</b-button>\n          <b-button variant=\"outline-danger\"   @click=\"deleteBucket(item.id)\">delete</b-button>\n          <b-button :to=\"{path:'/ItemView/'+item.id}\" variant=\"\">View Items</b-button>\n      </td>\n    </tr>\n   \n  </tbody>\n</table>\n            <!-- <b-table sticky-header head-variant=\"dark\" striped hover :items=\"items\" :fields=\"fields\"></b-table> -->\n        </div>\n    </div>\n    \n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: \"GetBuckets\",\n     components:{\n    },\n    \n    data:function () {\n        return{\n            token: localStorage.getItem('token'),\n            id:0,\n            fields: [ 'name','date_created', 'date_modified','created_by','actions'],\n            items: []\n        }\n    },\n    methods:{\n        deleteBucket(id){\n\n            // console.log(id);\n             let fd = new FormData();\n             fd.append('jwt',this.token);\n\n            axios.get('http://127.0.0.1:3000/del_bucketlists/'+id+'?jwt='+this.token)\n            .then(res=>{\n                console.log(res);\n                this.items = this.items.filter(item => item.id !==id)\n                \n            })\n            .catch(err=>{\n\n            });\n            \n        }\n    },\n    created(){\n        let fd = new FormData();\n        fd.append('jwt',this.token);\n        axios.get('http://127.0.0.1:3000/bucketlists?jwt='+this.token)\n        .then(res =>{\n            let data = res.data.data;\n            this.items=data;\n            \n\n        })\n        .catch(err => {\n            console.log(err);            \n        })\n\n\n        \n    }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}